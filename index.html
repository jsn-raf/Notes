<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Quick Notes</title>

  <link rel="manifest" href="/Notes/manifest.webmanifest">
  <meta name="theme-color" content="#f5f6f7">
  <meta name="mobile-web-app-capable" content="yes">

  <style>
    body{
      font-family:'Segoe UI', Roboto, sans-serif;
      margin:0;
      background:#fff;
      color:#202124;
      overflow:hidden;
      -webkit-tap-highlight-color:transparent;
    }

    /* Toolbar */
    .toolbar{
      background:#f5f6f7;
      padding:15px;
      display:flex;
      align-items:center;
      border-bottom:1px solid #e3e5e7;
      height:50px;
      position:relative;
      touch-action:manipulation;
      user-select:none;
      -webkit-user-select:none;
      -webkit-touch-callout:none;
    }
    .toolbar *{
      user-select:none !important;
      -webkit-user-select:none !important;
      -webkit-touch-callout:none !important;
    }

    .back-arrow{
      font-size:20px;
      color:#5f6368;
      cursor:pointer;
      padding:8px 10px;
      margin:-8px -10px;
      z-index:3;
    }

    .title{
      font-weight:500;
      margin-left:20px;
      pointer-events:none;
    }

    .calc-trigger{
      position:absolute;
      right:6px;
      top:50%;
      transform:translateY(-50%);
      width:44px;
      height:44px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }

    .dots{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:3px;
    }

    .vdot{
      width:4px;
      height:4px;
      border-radius:50%;
      background:#5f6368;
      opacity:0.65;
    }

    .calc-trigger.armed-top .vdot.top{ background:#202124; opacity:1; }
    .calc-trigger.armed-mid .vdot.mid{ background:#202124; opacity:1; }
    .calc-trigger.armed-bottom .vdot.bottom{ background:#202124; opacity:1; }

    /* Peek reveal ‚Äî RIGHT ALIGNED */
    .peek-arrow{
      position:absolute;
      left:28px;
      top:50%;
      transform:translateY(-50%);
      display:none;
      pointer-events:none;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size:12px;
      font-weight:700;
      letter-spacing:0.02em;
      color:#202124;
      z-index:2;
      text-align:right;      /* üîπ key change */
      min-width:3ch;         /* stabilises width */
    }
    .peek-arrow .card{ display:block; }
    .peek-arrow .shift{ display:block; margin-top:9px; }

    /* Note */
    .note-area{ padding:20px; }
    .note-body{
      font-size:18px;
      border:none;
      outline:none;
      width:100%;
      min-height:calc(100vh - 120px);
      resize:none;
      line-height:1.6;
      background:transparent;
      color:#202124;
      caret-color:#202124;
      -webkit-overflow-scrolling:touch;
    }

    body.modal-open .toolbar,
    body.modal-open .note-area{
      pointer-events:none;
    }

    /* About overlay */
    .about-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.06);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
    }

    .about-card{
      width:calc(100% - 72px);
      max-width:420px;
      background:#fff;
      border-radius:10px;
      padding:16px 16px 14px;
      box-shadow:0 6px 18px rgba(0,0,0,0.10);
      cursor:pointer;
    }

    .about-card,
    .about-card *{
      user-select:none !important;
      -webkit-user-select:none !important;
      -webkit-touch-callout:none !important;
      -webkit-tap-highlight-color:transparent !important;
    }

    .about-title{
      font-size:14.5px;
      font-weight:500;
      margin:0 0 10px 0;
    }

    .about-body{
      font-size:13.5px;
      line-height:1.45;
    }

    .about-footer{
      margin-top:10px;
      font-size:12px;
      line-height:1.35;
      color:#6b7077;
    }
  </style>
</head>

<body>

  <div class="toolbar" id="toolbarBtn">
    <span class="back-arrow" id="resetBtn">‚Üê</span>

    <div class="peek-arrow" id="peekArrow">
      <span class="card" id="peekCard"></span>
      <span class="shift" id="peekShift"></span>
    </div>

    <span class="title">Quick Notes</span>

    <div class="calc-trigger" id="aboutBtn">
      <div class="dots">
        <span class="vdot top"></span>
        <span class="vdot mid"></span>
        <span class="vdot bottom"></span>
      </div>
    </div>
  </div>

  <div class="note-area">
    <textarea id="noteContent" class="note-body" placeholder="Start typing‚Ä¶"></textarea>
  </div>

  <div class="about-overlay" id="aboutOverlay">
    <div class="about-card" id="aboutCard">
      <div class="about-title">Quick Notes</div>
      <div class="about-body">
        <p>
          A simple note-taking utility. Clean layout with predictable behaviour.
          All content is stored locally on your device. Accessible without accounts.
          No additional features are included.
        </p>
        <div class="about-footer">
          Build 1.3-g4l4h4d ¬∑ Jan 2026<br>
          ¬© Jason Parry
        </div>
      </div>
    </div>
  </div>

  <!-- JS unchanged from last stable build -->
  <script>
    /* JS omitted here for brevity ‚Äì use the same script body as the
       immediately previous ‚Äúdots-clearing‚Äù version. */
  </script>
</body>
</html>
